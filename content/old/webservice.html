Sometimes, as part of a web project, I'll make a web service that will be called by a front end .aspx page elsewhere in the project. &nbsp;Inevitably, I will forget to do two things:<br />
<br />
One, I'll forget to uncomment the script service line above the web method, even though Visual Studio puts a comment above it that says the following:<br />
<br />
'To allow this Web Service to be called from script, using ASP.NET AJAX, uncomment the following line.<br />
&nbsp;'&lt;System.Web.Script.Services.ScriptService()&gt; _<br />
<pre></pre><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">And two, I'll forget to set the InlineScript property of the service&nbsp;reference&nbsp;to true. &nbsp;</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><br />
</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">Then I'll trouble shoot for an hour before I remember, <i>oh yeah, I have to do those two things</i>. &nbsp;Hopefully by writing this on my blog, I'll remember. &nbsp;Anyway, those to two tidbits are things that I forgot, but I did know at one time. &nbsp;This week I learned some new things regarding web services. &nbsp;I'm sure many developers out there will say, "well duh...I can't believe you didn't know that! &nbsp;Dunce!" &nbsp;In response to such barbs, I will quote Clark Gable in Gone With the Wind, "I apologize again for all my short comings." &nbsp;Moving on...</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><br />
</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">Here are the two, <i>new</i>, things I learn about web services. &nbsp;One, you can change the format of the SOAP data that gets passed back and forth from the verbose (but useful) XML format to the more concise Json format. &nbsp; Did you know that? &nbsp;I sure didn't. &nbsp;You just change the property in the web method:</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><br />
</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">&lt;WebMethod()&gt; _</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">&nbsp;&nbsp; &nbsp;&lt;ScriptMethod(ResponseFormat:=ResponseFormat.Json)&gt; _</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">&nbsp;&nbsp; &nbsp;Public Function DoSomething() ...</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><br />
</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>Please note that the above code snippet assumes the import of the&nbsp;System.Web.Script.Services namespace. &nbsp;<u>I hate it when demo code doesn't include what namespaces are involved</u>.</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><br />
</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">The second thing I learned is that there is a size limit on how big the Json object can be. &nbsp;I was all happy until I quit getting results back because I <i>knew</i>&nbsp;there were lots of the results that were coming back and that was the problem. &nbsp;You can set it manually in the web.config, like this:</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><br />
</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">&lt;jsonSerialization maxJsonLength="Big ol' number"/&gt;</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><br />
</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">...but I wouldn't&nbsp;recommend&nbsp;that. &nbsp;Why? &nbsp;Because the whole point of Json is to have light weight markup text so you can pass data around web services with less bandwidth. &nbsp;If your Json is so big that the default size of the object isn't big enough to handle it, then maybe there's just too much data in there and it needs to be broken up some other way. &nbsp;But hey, do what you want. &nbsp;Pass multi gig Json objects around, set the IIS timeout to 120 minutes and put all your asp.net applications in their own app pools. &nbsp;See what happens.</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><br />
</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">G'night.</div></div>
